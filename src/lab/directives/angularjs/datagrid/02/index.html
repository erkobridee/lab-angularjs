<!DOCTYPE html>
<html lang="en" ng-app="app">
<head>
  <meta charset="UTF-8">
  <title>Datagrid : 02 : Table inside a directive</title>
</head>
<body ng-controller="MainCtrl as main">

  <datagrid titles="main.titles" data="main.data"></datagrid>

  <script src="/cdn/ajax/libs/angular.js/1.3.11/angular.min.js"></script>

  <script>
    (function() {
      'use strict';

      angular
        .module( 'app', [ ] )
        .controller( 'MainCtrl', MainCtrl )
        .directive( 'datagrid', datagrid );

        //---

        function datagrid() {

          var scope = {
            titles: '=',
            data: '='
          };

          var directive = {
            restrict: 'EA',
            scope: scope,
            template: '<table border="1"> \
                          <thead> \
                            <tr> \
                              <th ng-repeat="title in titles"> {{ title }} </th> \
                            </tr> \
                          </thead> \
                          <tbody> \
                            <tr ng-repeat="item in data"> \
                              <td> {{ item.name }} </td> \
                              <td> {{ item.age }} </td> \
                            </tr> \
                          </tbody> \
                        </table>'
          };

          return directive;

        }

        //---

        function MainCtrl() {
          var vm = this;

          vm.titles = [ 'Name', 'Age' ];
          vm.data   = [
            {
              'name': 'Eduardo',
              'age': 22
            },
            {
              'name': 'Royer',
              'age': 25
            }
          ];

        }

    })();
  </script>

</body>
</html>
